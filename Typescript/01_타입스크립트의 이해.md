# 타입스크립트의 이해



## 01. 타입스크립트와 자바스크립트의 관계

✔ **모든 자바스크립트는 타입스크립트이지만, 모든 타입스크립트가 자바스크립트는 아니다**



- 타입스크립트는 자바스크립트의 상위집합이다

- **확장자**

  - javascript : `.js` , `.jsx`

  - typescript : `.ts` , `.tsx`

- 파일의 확장자를 `.js` 에서 `.ts` 로 바꿔도 동일
  - 기존 코드를 그대로 유지하면서 일부분에만 타입스크립트 적용이 가능하기 때문에
  - 존재하는 자바스크립트 코드를 타입스크립트로 마이그레이션하는 데에 유리함



- 타입스크립트의 장점
  - 타입 구문없이 오류를 잡을 수 있음
  - 타입 구문 추가 시, 훨씬 더 많은 오류를 찾아낼 수 있음



```typescript
interface State {
    name: string;
    phone: string;
}

const states: State[] = [
    {name: 'seung', phene: '010-0000-0000'},
    {name: 'hyeon', phene: '010-0000-0000'},
]

for (const state of states) {
    console.log(state.phone)
}
```

> phone을 string으로 타입을 선언해주면
>
> phene에서 오타가 난 것을 발견할 수 있다



---

## 02. 타입스크립트 설정 이해



✔ **타입스크립트 설정을 알리는 방법**

1. 커맨드 라인

   ```bash
   $ tsc --noImplicitAny program.ts
   ```

2. tsconfig.json (권장)

   ```bash
   $ tsc --init
   ```

   > 설정파일 생성 명령어

   ```json
   {
       "compilerOptions": {
           "noImplicitAny": true
       }
   }
   ```



---

- **`noImplicitAny`** : 변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어
  - `true` | 타입이 필수로 정의되어야 함. 그렇지 않은 경우 오류
  - `false` | 타입이 필수로 정의되지 않아도 됨

❗ 타입스트립트는 타입 정보를 가질 때, 가장 효과적이므로 되도록 설정해주자 ❗

> 1. 타입스크립트의 문제 발견에 용이
> 2. 코드의 가독성 향상
> 3. 개발자의 생산성 향상

☠ 자바스크립트로 되어 있는 프로젝트를 타입스크립트로 전환하는 상황에서는 설정 해제 필요

---

- **`strictNullChecks`** : `null` 과 `undefined`가 모든 타입에서 허용되는지 확인하는 설정

  - `true` | 허용하지 않음 
  - `false` | 허용 

  

❗ `noImplicitAny` 설정 후, `strictNullChecks` 설정해 사용함 ❗

❗ 엄격한 체크를 하고 싶다면 `strict` 설정을 고려



✔ `null` 을 허용하려고 하는 경우

```typescript
const x: number | null = null;
```

> 의도적으로 명시하여 오류를 수정할 수 있음



✔ `null` 을 허용하지 않는 경우

> 값이 어디서 왔는지 찾아야 하고, null을 체크하는 코드나 단언문을 추가해야 함



---



## 03. 코드생성과 타입은 관계없음

✔ **타입스크립트 컴파일러의 역할**

1. 최신 타입스크립트/자바스크립트를 브라우저에서 동작할 수 있도록 구버전의 자바스크립트로 트랜스파일(transfile)
2. 코드의 타입 오류 체크

> 트랜스 파일 (transfile) : 소스코드를 동일한 동작을 하는 다른 형태의 소스코드로 변환하는 행위



❗ 이 두 가지의 역할은 완벽히 **"독립적"**

---

### 타입 오류가 있는 코드도 컴파일 가능

- 컴파일은 타입 체크와 독립적으로 동작하기 때문에, 타입 오류가 있는 코드도 컴파일 가능

```typescript
let x = 'hello';
x = 123;

-----------------------------------
[결과]
error TS2322: '123'형식은 'string' 형식에 할당할 수 없습니다.
```

> 타입스크립트 오류는 C나 자바 같은 언어들의 경고(warning)과 비슷함.
>
> 따라서, 문제가 될 만한 부분을 알려주지만, 빌드를 멈추지는 않음
>
> ❗ 만일, 오류가 있는 경우 컴파일을 하지 않기 위해서는 `noEmitOnError` 설정



```markdown
"컴파일에 문제가 있다" ❌
"타입 체크에 문제가 있다" ⭕

[컴파일] : 코드 생성을 의미
```

---

### 런타임에는 타입 체크가 불가능

